<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>whitstable.shop - Definitive Next Steps Guide</title>
  <style>
    @page {
      size: A4;
      margin: 1.5cm;
    }
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #1a1a2e;
      max-width: 210mm;
      margin: 0 auto;
      padding: 20px;
      font-size: 11pt;
    }
    .cover-page {
      page-break-after: always;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .cover-page h1 {
      font-size: 42pt;
      color: #0891b2;
      margin-bottom: 10px;
    }
    .cover-page .subtitle {
      font-size: 18pt;
      color: #64748b;
      margin-bottom: 40px;
    }
    .cover-page .company {
      font-size: 14pt;
      color: #334155;
      margin-top: 60px;
    }
    .cover-page .date {
      font-size: 12pt;
      color: #64748b;
      margin-top: 10px;
    }
    h1 {
      color: #0891b2;
      border-bottom: 3px solid #0891b2;
      padding-bottom: 10px;
      page-break-after: avoid;
    }
    h2 {
      color: #0f766e;
      margin-top: 30px;
      page-break-after: avoid;
    }
    h3 {
      color: #334155;
      margin-top: 20px;
      page-break-after: avoid;
    }
    .section {
      page-break-inside: avoid;
      margin-bottom: 20px;
    }
    .toc {
      page-break-after: always;
    }
    .toc ul {
      list-style: none;
      padding: 0;
    }
    .toc li {
      margin: 10px 0;
      padding: 8px 0;
      border-bottom: 1px dotted #cbd5e1;
    }
    .toc a {
      color: #0891b2;
      text-decoration: none;
    }
    .important-box {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 15px;
      margin: 15px 0;
      page-break-inside: avoid;
    }
    .warning-box {
      background: #fee2e2;
      border-left: 4px solid #ef4444;
      padding: 15px;
      margin: 15px 0;
      page-break-inside: avoid;
    }
    .success-box {
      background: #dcfce7;
      border-left: 4px solid #22c55e;
      padding: 15px;
      margin: 15px 0;
      page-break-inside: avoid;
    }
    .info-box {
      background: #e0f2fe;
      border-left: 4px solid #0891b2;
      padding: 15px;
      margin: 15px 0;
      page-break-inside: avoid;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
      font-size: 10pt;
    }
    th, td {
      border: 1px solid #e2e8f0;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #f1f5f9;
      font-weight: 600;
    }
    tr:nth-child(even) {
      background: #f8fafc;
    }
    code {
      background: #f1f5f9;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 9pt;
    }
    pre {
      background: #1e293b;
      color: #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 9pt;
      line-height: 1.4;
    }
    .checklist {
      list-style: none;
      padding: 0;
    }
    .checklist li {
      margin: 8px 0;
      padding-left: 25px;
      position: relative;
    }
    .checklist li:before {
      content: "[ ]";
      position: absolute;
      left: 0;
      color: #64748b;
    }
    ul, ol {
      padding-left: 25px;
    }
    li {
      margin: 5px 0;
    }
    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    .page-break {
      page-break-before: always;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #e2e8f0;
      text-align: center;
      color: #64748b;
      font-size: 10pt;
    }
    .cost-table th:nth-child(2), .cost-table td:nth-child(2) {
      text-align: right;
    }
  </style>
</head>
<body>

<div class="cover-page">
  <h1>whitstable.shop</h1>
  <div class="subtitle">Definitive Next Steps Guide</div>
  <p style="font-size: 14pt; color: #475569; max-width: 400px;">
    Complete infrastructure setup, launch checklist, and operational guide for
    taking whitstable.shop from development to production.
  </p>
  <div class="company">
    <strong>Prepared for:</strong><br>
    George<br>
    Harbourgate Trading LTD
  </div>
  <div class="date">January 2026</div>
</div>

<div class="toc">
  <h1>Table of Contents</h1>
  <ul>
    <li><a href="#executive-summary">1. Executive Summary</a></li>
    <li><a href="#infrastructure">2. Infrastructure Setup</a></li>
    <li><a href="#environment">3. Environment Configuration</a></li>
    <li><a href="#database">4. Database Setup</a></li>
    <li><a href="#dns">5. DNS Configuration</a></li>
    <li><a href="#legal">6. Legal & Compliance</a></li>
    <li><a href="#launch">7. Launch Checklist</a></li>
    <li><a href="#operations">8. Post-Launch Operations</a></li>
    <li><a href="#roadmap">9. Growth Roadmap</a></li>
    <li><a href="#revenue">10. Revenue Model</a></li>
    <li><a href="#emergency">11. Emergency Procedures</a></li>
    <li><a href="#appendix">12. Appendix: Full SQL Schema</a></li>
  </ul>
</div>

<h1 id="executive-summary">1. Executive Summary</h1>

<div class="section">
  <p>
    <strong>whitstable.shop</strong> is a comprehensive local business directory and community engagement platform
    for Whitstable, Kent. The codebase has been consolidated from multiple development branches into a unified,
    production-ready application.
  </p>

  <h3>What's Been Built</h3>
  <ul>
    <li><strong>55 pages</strong> - Complete Next.js 14 application with App Router</li>
    <li><strong>Shop Directory</strong> - Full listings with categories, search, and map integration</li>
    <li><strong>User Authentication</strong> - Supabase-powered accounts with profiles</li>
    <li><strong>Reviews & Ratings</strong> - Community-driven shop reviews</li>
    <li><strong>Events Calendar</strong> - Local events with filtering</li>
    <li><strong>Photo Competition</strong> - Monthly photo contests with voting</li>
    <li><strong>Community Features</strong> - Ask a Local, Reports, Leaderboards</li>
    <li><strong>Local Information</strong> - Tide times, parking, community page</li>
    <li><strong>SEO Optimized</strong> - Structured data, meta tags, sitemap</li>
  </ul>

  <h3>Technology Stack</h3>
  <table>
    <tr><th>Component</th><th>Technology</th></tr>
    <tr><td>Framework</td><td>Next.js 14 (App Router)</td></tr>
    <tr><td>Language</td><td>TypeScript</td></tr>
    <tr><td>Styling</td><td>Tailwind CSS</td></tr>
    <tr><td>Database</td><td>Supabase (PostgreSQL)</td></tr>
    <tr><td>Authentication</td><td>Supabase Auth</td></tr>
    <tr><td>Maps</td><td>Mapbox GL JS</td></tr>
    <tr><td>Hosting</td><td>Vercel (recommended)</td></tr>
  </table>

  <div class="success-box">
    <strong>Current Status:</strong> Codebase consolidated and building successfully.
    Ready for infrastructure setup and deployment.
  </div>
</div>

<h1 id="infrastructure" class="page-break">2. Infrastructure Setup</h1>

<h2>2.1 Vercel Deployment</h2>

<div class="section">
  <h3>Step 1: Connect Repository</h3>
  <ol>
    <li>Go to <code>vercel.com</code> and sign in with GitHub</li>
    <li>Click "Add New Project"</li>
    <li>Import the <code>george-itf/phonebook</code> repository</li>
    <li>Select the <code>claude/update-whitstable-processor-KQ3d1</code> branch (or merge to main first)</li>
  </ol>

  <h3>Step 2: Configure Build Settings</h3>
  <table>
    <tr><th>Setting</th><th>Value</th></tr>
    <tr><td>Framework Preset</td><td>Next.js</td></tr>
    <tr><td>Build Command</td><td><code>npm run build</code></td></tr>
    <tr><td>Output Directory</td><td><code>.next</code></td></tr>
    <tr><td>Install Command</td><td><code>npm install</code></td></tr>
  </table>

  <h3>Step 3: Add Environment Variables</h3>
  <p>Add these environment variables in Vercel's dashboard:</p>
  <pre>
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
NEXT_PUBLIC_MAPBOX_TOKEN=your-mapbox-token</pre>

  <div class="important-box">
    <strong>Important:</strong> Environment variables prefixed with <code>NEXT_PUBLIC_</code> are exposed
    to the browser. The service role key should NOT have this prefix.
  </div>
</div>

<h2>2.2 Supabase Setup</h2>

<div class="section">
  <h3>Step 1: Create Project</h3>
  <ol>
    <li>Go to <code>supabase.com</code> and create an account</li>
    <li>Click "New Project"</li>
    <li>Choose a name: <code>whitstable-shop</code></li>
    <li>Select region: <code>London (eu-west-2)</code></li>
    <li>Generate a strong database password and save it securely</li>
  </ol>

  <h3>Step 2: Get API Keys</h3>
  <p>In your Supabase dashboard, go to Settings > API:</p>
  <ul>
    <li><strong>Project URL</strong> - Use as <code>NEXT_PUBLIC_SUPABASE_URL</code></li>
    <li><strong>anon public key</strong> - Use as <code>NEXT_PUBLIC_SUPABASE_ANON_KEY</code></li>
    <li><strong>service_role key</strong> - Use as <code>SUPABASE_SERVICE_ROLE_KEY</code></li>
  </ul>

  <h3>Step 3: Configure Authentication</h3>
  <ol>
    <li>Go to Authentication > Providers</li>
    <li>Enable Email provider (for email/password login)</li>
    <li>Configure Site URL: <code>https://whitstable.shop</code></li>
    <li>Add redirect URLs: <code>https://whitstable.shop/**</code></li>
  </ol>

  <h3>Step 4: Storage Setup</h3>
  <ol>
    <li>Go to Storage and create buckets:
      <ul>
        <li><code>photos</code> - For photo competition entries</li>
        <li><code>avatars</code> - For user profile pictures</li>
        <li><code>shops</code> - For shop images</li>
      </ul>
    </li>
    <li>Set appropriate RLS policies for each bucket</li>
  </ol>
</div>

<h2>2.3 Mapbox Setup</h2>

<div class="section">
  <h3>Step 1: Create Account</h3>
  <ol>
    <li>Go to <code>mapbox.com</code> and create an account</li>
    <li>Verify your email address</li>
  </ol>

  <h3>Step 2: Get Access Token</h3>
  <ol>
    <li>Go to Account > Tokens</li>
    <li>Copy your default public token OR create a new one</li>
    <li>For production, create a token with URL restrictions to <code>whitstable.shop</code></li>
  </ol>

  <h3>Free Tier Limits</h3>
  <table>
    <tr><th>Service</th><th>Free Limit</th></tr>
    <tr><td>Map loads</td><td>50,000/month</td></tr>
    <tr><td>Geocoding requests</td><td>100,000/month</td></tr>
    <tr><td>Directions requests</td><td>100,000/month</td></tr>
  </table>
  <p>These limits are generous for initial launch and should not incur costs.</p>
</div>

<h2 class="page-break">2.4 Domain Setup</h2>

<div class="section">
  <h3>Domain: whitstable.shop</h3>
  <p>Ensure you have control of the <code>whitstable.shop</code> domain through your registrar.</p>

  <h3>Connect to Vercel</h3>
  <ol>
    <li>In Vercel project settings, go to Domains</li>
    <li>Add <code>whitstable.shop</code> as a custom domain</li>
    <li>Vercel will provide DNS records to add</li>
  </ol>
</div>

<h2>2.5 Email Service (Optional - Phase 2)</h2>

<div class="section">
  <p>For newsletters and notifications, consider:</p>
  <table>
    <tr><th>Service</th><th>Free Tier</th><th>Best For</th></tr>
    <tr><td>Buttondown</td><td>100 subscribers</td><td>Simple newsletters</td></tr>
    <tr><td>Resend</td><td>3,000 emails/month</td><td>Transactional email</td></tr>
    <tr><td>Postmark</td><td>100 emails/month</td><td>Delivery reliability</td></tr>
  </table>
</div>

<h1 id="environment">3. Environment Configuration</h1>

<div class="section">
  <h3>Required Environment Variables</h3>
  <pre>
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://[project-id].supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...your-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJ...your-service-role-key

# Mapbox Configuration
NEXT_PUBLIC_MAPBOX_TOKEN=pk.eyJ...your-mapbox-token

# Optional: Analytics
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=whitstable.shop

# Optional: Email (Phase 2)
RESEND_API_KEY=re_...your-resend-key</pre>

  <h3>Local Development</h3>
  <ol>
    <li>Copy <code>.env.local.example</code> to <code>.env.local</code></li>
    <li>Fill in your development credentials</li>
    <li>Run <code>npm run dev</code></li>
  </ol>

  <div class="warning-box">
    <strong>Security:</strong> Never commit <code>.env.local</code> to git.
    The service role key has admin access to your database.
  </div>
</div>

<h1 id="database" class="page-break">4. Database Setup</h1>

<div class="section">
  <h3>Running the Schema</h3>
  <ol>
    <li>Go to your Supabase dashboard</li>
    <li>Open SQL Editor</li>
    <li>Copy the full SQL schema from <code>database/engagement-schema.sql</code></li>
    <li>Run the SQL</li>
  </ol>

  <h3>Database Tables Overview</h3>
  <table>
    <tr><th>Table</th><th>Purpose</th></tr>
    <tr><td>profiles</td><td>User profiles (extends auth.users)</td></tr>
    <tr><td>shops</td><td>Business listings</td></tr>
    <tr><td>events</td><td>Local events calendar</td></tr>
    <tr><td>reviews</td><td>Shop reviews and ratings</td></tr>
    <tr><td>photo_competitions</td><td>Monthly photo contest config</td></tr>
    <tr><td>photo_entries</td><td>Photo submissions</td></tr>
    <tr><td>photo_votes</td><td>Community votes on photos</td></tr>
    <tr><td>reports</td><td>Community reports/suggestions</td></tr>
    <tr><td>user_contributions</td><td>Gamification tracking</td></tr>
    <tr><td>charities</td><td>Local charity listings</td></tr>
    <tr><td>questions</td><td>Ask a Local questions</td></tr>
    <tr><td>answers</td><td>Community answers</td></tr>
    <tr><td>offers</td><td>Shop special offers</td></tr>
    <tr><td>shop_weekly_stats</td><td>Engagement leaderboard data</td></tr>
    <tr><td>shop_badges</td><td>Achievement badges for shops</td></tr>
    <tr><td>campaigns</td><td>Seasonal marketing campaigns</td></tr>
  </table>

  <h3>Row Level Security</h3>
  <p>The schema includes comprehensive RLS policies:</p>
  <ul>
    <li>Public data (shops, events) readable by all</li>
    <li>User data (profiles, saved shops) restricted to owner</li>
    <li>User-generated content (reviews, photos) editable by creator</li>
    <li>Admin functions protected with service role</li>
  </ul>

  <h3>Initial Data Seeding</h3>
  <p>After running the schema, you'll need to seed initial shop data. Options:</p>
  <ol>
    <li>Manual entry through Supabase dashboard</li>
    <li>Import from CSV using Supabase import</li>
    <li>Create admin tools to add shops</li>
  </ol>
</div>

<h1 id="dns" class="page-break">5. DNS Configuration</h1>

<div class="section">
  <h3>Vercel DNS Records</h3>
  <p>Add these records at your domain registrar:</p>
  <table>
    <tr><th>Type</th><th>Name</th><th>Value</th><th>TTL</th></tr>
    <tr><td>A</td><td>@</td><td>76.76.21.21</td><td>3600</td></tr>
    <tr><td>CNAME</td><td>www</td><td>cname.vercel-dns.com</td><td>3600</td></tr>
  </table>

  <h3>Email Configuration (if using custom email)</h3>
  <p>For email at @whitstable.shop, add MX records per your email provider.</p>

  <h3>Verification</h3>
  <ol>
    <li>DNS changes can take up to 48 hours to propagate</li>
    <li>Use <code>dig whitstable.shop</code> to check A record</li>
    <li>Vercel dashboard will show domain status</li>
  </ol>

  <div class="info-box">
    <strong>SSL:</strong> Vercel automatically provisions and renews SSL certificates
    via Let's Encrypt. No manual configuration needed.
  </div>
</div>

<h1 id="legal">6. Legal & Compliance</h1>

<div class="section">
  <h3>Pre-Launch Requirements</h3>
  <ul class="checklist">
    <li>Privacy policy published at /privacy</li>
    <li>Terms of service published at /terms</li>
    <li>Cookie approach documented (using privacy-friendly analytics)</li>
    <li>ICO registration determined (check ico.org.uk/register)</li>
    <li>Domain ownership secured with auto-renewal</li>
  </ul>

  <h3>GDPR/UK GDPR Compliance</h3>
  <table>
    <tr><th>Requirement</th><th>Implementation</th></tr>
    <tr><td>Lawful basis</td><td>Consent for marketing, legitimate interest for service</td></tr>
    <tr><td>Data minimisation</td><td>Only collect necessary data</td></tr>
    <tr><td>User rights</td><td>Account deletion via settings</td></tr>
    <tr><td>Consent</td><td>Clear opt-in for newsletters</td></tr>
    <tr><td>Breach procedures</td><td>Document incident response plan</td></tr>
  </table>

  <h3>Business Registration Options</h3>
  <table>
    <tr><th>Structure</th><th>Pros</th><th>Cons</th></tr>
    <tr><td>Sole Trader</td><td>Simple, low cost</td><td>Personal liability</td></tr>
    <tr><td>Limited Company</td><td>Liability protection</td><td>More admin, accounts</td></tr>
  </table>

  <h3>ICO Registration</h3>
  <p>If processing personal data for business purposes, registration costs <strong>&#163;40/year</strong> for most small businesses.</p>
  <p>Check exemptions at: <code>ico.org.uk/for-organisations/register/</code></p>
</div>

<h1 id="launch" class="page-break">7. Launch Checklist</h1>

<h2>7.1 Week Before Launch</h2>

<div class="section">
  <h3>Technical Checks</h3>
  <ul class="checklist">
    <li>All pages loading correctly</li>
    <li>SSL certificate valid</li>
    <li>Analytics tracking working</li>
    <li>Email signup working</li>
    <li>Map loading properly</li>
    <li>Mobile tested on iOS and Android</li>
    <li>Forms submitting correctly</li>
    <li>Authentication flow tested</li>
  </ul>

  <h3>Content Checks</h3>
  <ul class="checklist">
    <li>All shop listings accurate</li>
    <li>No placeholder text remaining</li>
    <li>Images loading correctly</li>
    <li>All links working</li>
    <li>Contact information correct</li>
  </ul>

  <h3>Materials Preparation</h3>
  <ul class="checklist">
    <li>Social media graphics (5 variations)</li>
    <li>Launch email for newsletter</li>
    <li>Facebook/Instagram posts drafted</li>
    <li>Press release prepared</li>
    <li>Shop owner letters printed (optional)</li>
  </ul>
</div>

<h2>7.2 Launch Day</h2>

<div class="section">
  <h3>Morning (8-9am)</h3>
  <ul class="checklist">
    <li>Final deployment verification</li>
    <li>Post announcement on Instagram</li>
    <li>Post announcement on Facebook</li>
    <li>Send email newsletter to subscribers</li>
    <li>WhatsApp interested shops</li>
  </ul>

  <h3>Mid-Morning (10-11am)</h3>
  <ul class="checklist">
    <li>Post in local Facebook groups (check rules first)</li>
    <li>Monitor for immediate issues</li>
    <li>Respond to any comments</li>
  </ul>

  <h3>Afternoon (2-4pm)</h3>
  <ul class="checklist">
    <li>Check analytics for issues</li>
    <li>Respond to all comments/messages</li>
    <li>Note any bug reports</li>
    <li>Thank people who share</li>
  </ul>

  <h3>Evening</h3>
  <ul class="checklist">
    <li>Post thank you on Instagram stories</li>
    <li>Capture initial metrics</li>
    <li>Team debrief</li>
  </ul>
</div>

<h2 class="page-break">7.3 Launch Targets</h2>

<div class="section">
  <table>
    <tr><th>Metric</th><th>Launch Day</th><th>Week 1</th><th>Month 1</th></tr>
    <tr><td>Unique visitors</td><td>100+</td><td>300+</td><td>500+</td></tr>
    <tr><td>Page views</td><td>500+</td><td>1,500+</td><td>3,000+</td></tr>
    <tr><td>User signups</td><td>10+</td><td>30+</td><td>50+</td></tr>
    <tr><td>Reviews</td><td>-</td><td>5+</td><td>20+</td></tr>
    <tr><td>Shops claimed</td><td>-</td><td>2+</td><td>5+</td></tr>
    <tr><td>Email subscribers</td><td>-</td><td>50+</td><td>100+</td></tr>
  </table>
</div>

<h1 id="operations">8. Post-Launch Operations</h1>

<div class="section">
  <h3>Daily Tasks</h3>
  <ul>
    <li>Check analytics dashboard</li>
    <li>Respond to comments/messages within 24 hours</li>
    <li>Post social media content</li>
    <li>Fix any urgent issues</li>
    <li>Monitor error logs</li>
  </ul>

  <h3>Weekly Tasks</h3>
  <ul>
    <li>Review metrics and trends</li>
    <li>Plan content for next week</li>
    <li>Shop owner outreach (2-3 shops)</li>
    <li>Review and moderate new content</li>
    <li>Check for spam or abuse</li>
  </ul>

  <h3>Monthly Tasks</h3>
  <ul>
    <li>Full metrics analysis</li>
    <li>User feedback review</li>
    <li>Shop owner feedback collection</li>
    <li>Photo competition management</li>
    <li>Content performance review</li>
    <li>Infrastructure cost review</li>
  </ul>

  <h3>Photo Competition Operations</h3>
  <table>
    <tr><th>Phase</th><th>Duration</th><th>Tasks</th></tr>
    <tr><td>Submissions Open</td><td>Days 1-20</td><td>Promote submission, moderate entries</td></tr>
    <tr><td>Voting</td><td>Days 21-27</td><td>Announce voting, promote participation</td></tr>
    <tr><td>Judging</td><td>Days 28-30</td><td>Select winner, contact for prize</td></tr>
    <tr><td>Announcement</td><td>Day 1 of next month</td><td>Announce winner, start new competition</td></tr>
  </table>
</div>

<h1 id="roadmap" class="page-break">9. Growth Roadmap</h1>

<div class="section">
  <h2>Phase 1: Launch to Month 6 (Free)</h2>
  <p><strong>Focus:</strong> Build trust, adoption, and content</p>
  <ul>
    <li>Complete shop database (80+ shops)</li>
    <li>Generate initial reviews (50+)</li>
    <li>Build brand awareness locally</li>
    <li>Establish trust with shop owners</li>
    <li>Gather feedback for premium features</li>
  </ul>

  <h2>Phase 2: Month 6+ (Premium Features)</h2>
  <p><strong>Focus:</strong> Monetisation with shop owner premium</p>

  <table>
    <tr><th>Tier</th><th>Price</th><th>Features</th></tr>
    <tr><td>Enhanced Listing</td><td>&#163;5/month</td><td>Featured badge, more photos, special offers</td></tr>
    <tr><td>Analytics</td><td>&#163;10/month</td><td>+ Dashboard, review response, weekly reports</td></tr>
    <tr><td>Featured</td><td>&#163;15/month</td><td>+ Top of category, homepage spotlight</td></tr>
  </table>

  <h2>Phase 3: Year 2+ (Partnerships)</h2>
  <ul>
    <li>Tourism partnerships (Visit Kent, Canterbury Council)</li>
    <li>Media partnerships (local publications)</li>
    <li>Event partnerships (festivals, markets)</li>
    <li>Geographic expansion (Herne Bay, Canterbury, Margate)</li>
  </ul>
</div>

<h1 id="revenue">10. Revenue Model</h1>

<div class="section">
  <h3>Revenue Projections</h3>

  <h4>Conservative Scenario</h4>
  <table>
    <tr><th>Period</th><th>Claimed Shops</th><th>Conversion</th><th>MRR</th></tr>
    <tr><td>Month 6</td><td>15</td><td>10%</td><td>&#163;10</td></tr>
    <tr><td>Month 12</td><td>30</td><td>20%</td><td>&#163;48</td></tr>
    <tr><td>Month 18</td><td>50</td><td>25%</td><td>&#163;125</td></tr>
    <tr><td>Month 24</td><td>60</td><td>30%</td><td>&#163;180</td></tr>
  </table>
  <p><strong>Year 2 ARR:</strong> ~&#163;2,160</p>

  <h4>Moderate Scenario</h4>
  <table>
    <tr><th>Period</th><th>Claimed Shops</th><th>Conversion</th><th>MRR</th></tr>
    <tr><td>Month 6</td><td>20</td><td>15%</td><td>&#163;24</td></tr>
    <tr><td>Month 12</td><td>40</td><td>25%</td><td>&#163;100</td></tr>
    <tr><td>Month 18</td><td>60</td><td>30%</td><td>&#163;180</td></tr>
    <tr><td>Month 24</td><td>80</td><td>35%</td><td>&#163;336</td></tr>
  </table>
  <p><strong>Year 2 ARR:</strong> ~&#163;4,032</p>

  <h3>Cost Structure</h3>
  <table class="cost-table">
    <tr><th>Item</th><th>Monthly Cost</th></tr>
    <tr><td>Hosting (Vercel)</td><td>&#163;0-20</td></tr>
    <tr><td>Database (Supabase)</td><td>&#163;0-25</td></tr>
    <tr><td>Domain</td><td>&#163;1</td></tr>
    <tr><td>Analytics (Plausible)</td><td>&#163;9</td></tr>
    <tr><td>Email (Buttondown)</td><td>&#163;0-9</td></tr>
    <tr><td>Maps (Mapbox)</td><td>&#163;0-50</td></tr>
    <tr><th>Total</th><th>&#163;10-115</th></tr>
  </table>

  <h3>Break-Even Point</h3>
  <p>With &#163;50-100/month in costs, need <strong>5-10 premium subscribers</strong> at &#163;10/month.</p>
  <p>Achievable by <strong>Month 9-12</strong> in moderate scenario.</p>
</div>

<h1 id="emergency" class="page-break">11. Emergency Procedures</h1>

<div class="section">
  <h3>Site Down</h3>
  <ol>
    <li>Check Vercel status page: <code>status.vercel.com</code></li>
    <li>Check Supabase status: <code>status.supabase.com</code></li>
    <li>Review deployment logs in Vercel dashboard</li>
    <li>If recent deployment caused issue, rollback to previous</li>
    <li>Check domain DNS if custom domain not resolving</li>
  </ol>

  <h3>Database Issues</h3>
  <ol>
    <li>Check Supabase dashboard for connection issues</li>
    <li>Review database logs for errors</li>
    <li>Check if nearing connection limits</li>
    <li>Contact Supabase support if needed</li>
  </ol>

  <h3>Security Incident</h3>
  <ol>
    <li>Rotate all API keys immediately</li>
    <li>Review access logs in Supabase</li>
    <li>Check for unauthorized data access</li>
    <li>Notify affected users if data breach confirmed</li>
    <li>Report to ICO within 72 hours if required</li>
  </ol>

  <h3>High Traffic / Performance Issues</h3>
  <ol>
    <li>Enable Vercel's DDoS protection</li>
    <li>Check for expensive database queries</li>
    <li>Consider upgrading Vercel/Supabase plan</li>
    <li>Enable caching where possible</li>
  </ol>

  <div class="warning-box">
    <strong>Key Contacts:</strong><br>
    - Vercel Support: support.vercel.com<br>
    - Supabase Support: support.supabase.com<br>
    - Mapbox Support: mapbox.com/contact
  </div>
</div>

<h3>Backup Procedures</h3>
<div class="section">
  <p>Supabase automatically backs up your database. To create manual backups:</p>
  <ol>
    <li>Go to Supabase Dashboard > Database > Backups</li>
    <li>Download a backup before major changes</li>
    <li>For code, ensure all changes are committed to GitHub</li>
  </ol>
</div>

<h1 id="appendix" class="page-break">12. Appendix: Database Schema Summary</h1>

<div class="section">
  <p>The full SQL schema is available in <code>database/engagement-schema.sql</code>. Key tables:</p>

  <h3>Core Tables</h3>
  <pre>
-- User profiles
profiles (id, email, display_name, bio, avatar_url,
          is_public, is_local, joined_at)

-- Shop listings
shops (id, name, slug, description, category,
       address, latitude, longitude, phone, email,
       website, opening_hours, is_active, is_featured,
       save_count, review_count, average_rating)

-- Events
events (id, title, slug, description, start_date,
        end_date, location, venue, shop_id, price)

-- Reviews
reviews (id, user_id, shop_id, rating, content,
         is_verified_purchase, created_at)</pre>

  <h3>Engagement Tables</h3>
  <pre>
-- Photo competition
photo_competitions (month, title, theme, prize_description,
                    submissions_open, submissions_close,
                    voting_open, voting_close, winner_id)

photo_entries (user_id, image_url, title, description,
               competition_month, status, vote_count)

-- Community Q&A
questions (user_id, question, context, status, answer_count)
answers (question_id, user_id, answer, upvotes, is_accepted)

-- Reports and contributions
reports (user_id, report_type, shop_id, title, description)
user_contributions (reports_submitted, reviews_written,
                    photos_submitted, contribution_score, badge)</pre>

  <h3>Key Indexes for Performance</h3>
  <pre>
idx_shops_category ON shops(category)
idx_shops_slug ON shops(slug)
idx_events_start_date ON events(start_date)
idx_reviews_shop ON reviews(shop_id)
idx_photo_entries_month ON photo_entries(competition_month)</pre>
</div>

<div class="section">
  <h3>RLS Policy Summary</h3>
  <table>
    <tr><th>Table</th><th>Select</th><th>Insert</th><th>Update</th><th>Delete</th></tr>
    <tr><td>profiles</td><td>Public (is_public) or own</td><td>Own only</td><td>Own only</td><td>-</td></tr>
    <tr><td>shops</td><td>All active</td><td>Admin</td><td>Admin</td><td>Admin</td></tr>
    <tr><td>reviews</td><td>All</td><td>Own only</td><td>Own only</td><td>Own only</td></tr>
    <tr><td>photo_entries</td><td>Approved or own pending</td><td>Own only</td><td>-</td><td>Own only</td></tr>
    <tr><td>saved_shops</td><td>Own only</td><td>Own only</td><td>-</td><td>Own only</td></tr>
  </table>
</div>

<div class="footer">
  <p><strong>whitstable.shop</strong> - Definitive Next Steps Guide</p>
  <p>Prepared January 2026 | Harbourgate Trading LTD</p>
  <p>Repository: github.com/george-itf/phonebook</p>
</div>

</body>
</html>
